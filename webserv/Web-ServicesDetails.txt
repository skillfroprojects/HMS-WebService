1. Appointment

http://hms.yogintechnologies.com/webservice/appointment.php

$App_Date = $_POST['appointment_date'];
$App_Time = $_POST['appointment_time'];
$Doc_Name = $_POST['doctor_name'];
$Pat_Name = $_POST['patient_name'];
$Pat_Email = $_POST['patient_email'];
$Pat_Mobile = $_POST['patient_mobile'];
$Br_Name = $_POST['branch_name'];

  if ($user) {
        $response["response"] = 1;
        $response["Cust_ID"] = $user["Cust_ID"];
        $response["message"] = "Login Success.";
        echo json_encode($response);
    } else {
        // user is not found with the credentials
        $response["error"] = 2;
        $response["error_msg"] = "Login credentials are wrong. Please try again!";
        echo json_encode($response);
    }
} else {
    // required post params is missing
    $response["missing"] = 3;
    $response["error_msg"] = "Required parameters email or password is missing!";
    echo json_encode($response);
}

2. Bed Number

http://hms.yogintechnologies.com/webservice/bednumberall.php

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["bednumber"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // temp user array
        $Bednumber = array();
        $Bednumber["bed_id"] = $row["bed_id"];
        $Bednumber["bed_no"] = $row["bed_no"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["bednumber"], $Bednumber);
    }
   
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

3. Branch Insert

http://hms.yogintechnologies.com/webservice/branch_insert.php

    $Branch_Name = $_POST['branch_name'];
    $Branch_Location = $_POST['branch_location'];
    $Branch_Addr1 = $_POST['branch_addr1'];
    $Branch_Addr2 = $_POST['branch_addr2'];
    $Branch_Postal_Code = $_POST['branch_postal_code'];
    $Branch_Email = $_POST['branch_email'];
    $Branch_Phone = $_POST['branch_phone'];
    $Branch_Phone_Other= $_POST['branch_phone_other'];
    $Hospital_ID = '1';

  if ($db->isBranchExisted($Branch_Name)) {
        // branch already exists
        $response["response"] = 0;
        $response["message"] = $Branch_Name. "already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        $user = $db->insertBranch($Branch_Name, $Hospital_ID,$Branch_Location,$Branch_Addr1,$Branch_Addr2,$Branch_Postal_Code,$Branch_Email,$Branch_Phone,$Branch_Phone_Other);
        if ($user) {
            // branch stored successfully
        $response["response"] = 1;
        $response["message"] = "Branch Details Inserted.";
        echo json_encode($response);
        } else {
            // branch failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

5. Department

http://hms.yogintechnologies.com/webservice/departmentall.php

 $BR_ID = $_POST['br_id'];

if (mysql_num_rows($result) > 0) {
   // response
    $response["response"] = 1;
    $response["department"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // temp user array
        $Department = array();
        $Department["BR_ID"] = $row["BR_ID"];
        $Department["dept_name"] = $row["dept_name"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["department"], $Department);
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
}
else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

6. Designation

http://hms.yogintechnologies.com/webservice/designationall.php

  if (mysql_num_rows($result) > 0) {
    // response
    $response["response"] = 1;
    $response["designation"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // temp user array
        $Designation = array();
        $Designation["desc_id"] = $row["designation_id"];
        $Designation["desc_name"] = $row["designation_name"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["designation"], $Designation);
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

7. Doctor Insert

http://hms.yogintechnologies.com/webservice/doctor_insert.php

    $Br_ID = $_POST['branch_id'];
    $Doc_Name = $_POST['doc_name'];
    $Doc_Email = $_POST['doc_email'];
    $Doc_Date_Of_Birth = $_POST['doc_dob'];
    $Doc_Gender = $_POST['doc_gender'];
    $Doc_Mobile = $_POST['doc_mobile'];
    $Doc_Address1 = $_POST['doc_address1'];
    $Doc_Address2= $_POST['doc_address2'];
    $Doc_Postal_Code = $_POST['doc_postal_code'];
    $Doc_Qualification = $_POST['doc_qualification'];
    $Doc_Emergency_Availability = $_POST['doc_emergency_availability'];
    $Sp_ID = $_POST['specialization_id'];
    $Doc_Med_Licence_no = $_POST['doc_med_licence_no'];
    $Login_uname = $_POST['doc_name'];
    $Login_name = $_POST['doc_email'];
    $Br_id = $_POST['branch_id'];  
    $Login_password = 'doctor';
    $Login_type = 'doctor';

if ($db->isDoctorExisted($Doc_Email)) {
        // user already exists
        $response["response"] = 0;
        $response["message"] = $Doc_Email. "already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        $user = $db->insertDoctor($Br_ID, $Doc_Name,$Doc_Email,$Doc_Date_Of_Birth,$Doc_Gender,$Doc_Mobile,$Doc_Address1,$Doc_Address2,$Doc_Postal_Code,$Doc_Qualification,$Doc_Emergency_Availability,$Sp_ID,$Doc_Med_Licence_no);
        $users = $db->loginUser($Login_uname,$Login_name,$Login_password,$Login_type,$Br_id);

        if ($user) {
            // user stored successfully
        $response["response"] = 1;
        $user = mysql_query("SELECT * from Doctor_master WHERE Doc_Email = '$Doc_Email'");
        $user_data = mysql_fetch_array($user);
        $no_rows = mysql_num_rows($user);
  
        if ($no_rows == 1) {
            // user exists
            //$stmt->close();
            $user['DOC_ID'] = $user_data['DOC_ID'];
            
        } else {
            
//            return NULL;
        }
        $response["DOC_ID"] = $user_data['DOC_ID'];
        $response["message"] = "Doctor Details Inserted.";
        echo json_encode($response);
        } else {
            // user failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

8. Doctor

http://hms.yogintechnologies.com/webservice/doctorall.php

 $BR_ID = $_POST['br_id'];

if (mysql_num_rows($result) > 0) {
    // response
    $response["response"] = 1;
    $response["doctor"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // temp user array
        $Doctor = array();
        $Doctor["BR_ID"] = $row["BR_ID"];
        $Doctor["DOC_Name"] = $row["DOC_NAME"]."-".$row["DOC_EMERGENCY_AVAILABILITY"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["doctor"], $Doctor);
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
}
else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

9. Drug Form

http://hms.yogintechnologies.com/webservice/drugformall.php

 if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["drugform"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // temp user array
        $Drugform = array();
        $Drugform["drug_id"] = $row["drug_id"];
        $Drugform["drug_name"] = $row["drug_name"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["drugform"], $Drugform);
    }
   
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

10. Lab

http://hms.yogintechnologies.com/webservice/laball.php

if (mysql_num_rows($result) > 0) {
    // response
    $response["response"] = 1;
    $response["laboratory"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // temp user array
        $Laboratory = array();
        $Laboratory["lab_id"] = $row["lab_id"];
        $Laboratory["lab_name"] = $row["lab_name"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["laboratory"], $Laboratory);
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

11. Login

http://hms.yogintechnologies.com/webservice/login.php

 $email = $_POST['email'];
 $password = $_POST['password'];

  $user = $db->getUserByEmailAndPassword($email, $password);

    if ($user) {
        $response["response"] = 1;
        $response["login_id"] = $user["Login_id"];
        $response["br_id"] = $user["Br_id"];
        $response["login_uname"] = $user["Login_uname"];
        $response["login_name"] = $user["Login_name"];
        $response["login_type"] = $user["Login_type"];
        $response["message"] = "Login Success.";
        echo json_encode($response);
    } else {
        // user is not found with the credentials
        $response["response"] = 0;
        $response["message"] = "Login credentials are wrong. Please try again!";
        echo json_encode($response);
    }
}
else {
    // required post params is missing
    $response["response"] = 2;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

12. Medico Legal 

http://hms.yogintechnologies.com/webservice/medicolegalall.php

if (mysql_num_rows($result) > 0) {
    // looping through all results
    // products node
    $response["medicolegal"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // response
        $response["response"] = 1;
        // temp user array
        $Medicolegal = array();
        $Medicolegal["mlc_id"] = $row["mlc_id"];
        $Medicolegal["mlc_name"] = $row["mlc_name"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["medicolegal"], $Medicolegal);
    }
   
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

13. Patient Registration

http://hms.yogintechnologies.com/webservice/pat_register.php

    $Pat_Int = '000001';
    $Pat_Name = $_POST['pat_name'];
    $Pat_Email = $_POST['pat_email'];
    $Pat_Gender = $_POST['pat_gender'];
    $Pat_Mobile = $_POST['pat_mobile'];
    $Pat_Addr1 = $_POST['pat_addr1'];
    $Pat_Addr2 = $_POST['pat_addr2'];
    $Pat_Postal_Code = $_POST['pat_postal_code'];
    $Pat_Blood_Group = $_POST['pat_blood_group'];
    $Login_uname = $_POST['pat_name'];
    $Login_name = $_POST['pat_email'];
    $Login_password = 'patient';
    $Login_type = 'patient';

 if ($db->isUserExisted($Pat_Email)) {
        // user already exists
        $response["response"] = 0;
        $response["error_msg"] = "User already exists for this " . $Pat_Email;
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        $user = $db->storeUser($Pat_Name,$Pat_Email,$Pat_Gender,$Pat_Mobile,$Pat_Addr1,$Pat_Addr2,$Pat_Postal_Code,$Pat_Blood_Group);
        $users = $db->loginUser($Login_uname,$Login_name,$Login_password,$Login_type);

        if ($user) {
            // user stored responsefully
        $response["response"] = 1;
        $user = mysql_query("SELECT * from Patient_master WHERE Pat_Email = '$Pat_Email'");
        $user_data = mysql_fetch_array($user);
        $no_rows = mysql_num_rows($user);
  
        if ($no_rows == 1) {
            // user exists
            //$stmt->close();
            $user['PAT_ID'] = $user_data['PAT_ID'];
            
        } else {
            
//            return NULL;
        }
        $response["PAT_ID"] = $user_data['PAT_ID'];
        $response["message"] = "Patient responsefully Registered.";
        echo json_encode($response);
        
        } else {
            // user registeration failed 
            
            $response["response"] = 3;
            $response["error_msg"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 4;
    $response["error_msg"] = "Required parameters is missing!";
    echo json_encode($response);
}

14. Pharmacy

http://hms.yogintechnologies.com/webservice/pharmacyall.php

 if (mysql_num_rows($result) > 0) {
    // looping through all results
    // products node
    $response["pharmacy"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // response
        $response["response"] = 1;        
        // temp user array
        $Pharmacy = array();
        $Pharmacy["pharma_id"] = $row["pharma_id"];
        $Pharmacy["pharmacy_name"] = $row["pharmacy_name"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["pharmacy"], $Pharmacy);
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

15. Room Number

http://hms.yogintechnologies.com/webservice/roomnumberall.php

if (mysql_num_rows($result) > 0) {
    // looping through all results
    // products node
    $response["roomnumber"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // response
        $response["response"] = 1;
        // temp user array
        $Roomnumber = array();
        $Roomnumber["room_id"] = $row["room_id"];
        $Roomnumber["room_no"] = $row["room_no"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["roomnumber"], $Roomnumber);
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

16. Room Type

http://hms.yogintechnologies.com/webservice/roomtypeall.php

 if (mysql_num_rows($result) > 0) {
    // looping through all results
    // products node
    $response["roomtype"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // response
        $response["response"] = 1;
        // temp user array
        $Roomtype = array();
        $Roomtype["room_type_id"] = $row["room_type_id"];
        $Roomtype["room_type"] = $row["room_type"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["roomtype"], $Roomtype);
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

17. Specialization Insert

http://hms.yogintechnologies.com/webservice/speci_insert.php

  $Sp_Name = $_POST['sp_name'];

 if ($db->isSpecializeExisted($Sp_Name)) {
        // user already exists
        $response["response"] = 0;
        $response["message"] = $Sp_Name. "already exists";
        echo json_encode($response);
    } else {
        
        $user = $db->insertSpecialization($Sp_Name);
        if ($user) {
            // user stored successfully
        $response["response"] = 1;
        $response["message"] = "Data Inserted.";
        echo json_encode($response);
        } else {
            // user failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

18. Specialization

http://hms.yogintechnologies.com/webservice/speciall.php

 if (mysql_num_rows($result) > 0) {
    // looping through all results
    // products node
    $response["specialize"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // response
        $response["response"] = 1;        
        // temp user array
        $Specialize = array();
        $Specialize["SP_ID"] = $row["SP_ID"];
        $Specialize["SP_NAME"] = $row["SP_NAME"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["specialize"], $Specialize);
    }
   
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

19.Specimen

http://hms.yogintechnologies.com/webservice/specimenall.php

 if (mysql_num_rows($result) > 0) {
    // looping through all results
    // products node
    $response["specimen"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // response
        $response["response"] = 1;
        // temp user array
        $Specimen = array();
        $Specimen["specimen_id"] = $row["specimen_id"];
        $Specimen["specimen_name"] = $row["specimen_name"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["specimen"], $Specimen);
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

20. Staff

http://hms.yogintechnologies.com/webservice/staffall.php

 if (mysql_num_rows($result) > 0) {
    // response
    $response["response"] = 1;
    $response["staff"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // temp user array
        $Staff = array();
        $Staff["staff_id"] = $row["staff_id"];
        $Staff["staff_name"] = $row["staff_name"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["staff"], $Staff);
    }
  
    // echoing JSON response
    echo json_encode($response);
} 
}
else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

21. Surgery Type

http://hms.yogintechnologies.com/webservice/surgerytypeall.php

if (mysql_num_rows($result) > 0) {
    // looping through all results
    // products node
    $response["surgerytype"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // response
        $response["response"] = 1;
        // temp user array
        $Surgerytype = array();
        $Surgerytype["sp_id"] = $row["sp_id"];
        $Surgerytype["surgery_type"] = $row["surgery_type"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["surgerytype"], $Surgerytype);
    }
   
     // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

22. Surgical Anaesthetists

http://hms.yogintechnologies.com/webservice/surgicalanaesthetistsall.php

 if (mysql_num_rows($result) > 0) {
    // looping through all results
    // products node
    $response["surgicalanaesthetists"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // response
        $response["response"] = 1;
        // temp user array
        $Surgicalanaesthetists = array();
        $Surgicalanaesthetists["DOC_ID"] = $row["DOC_ID"];
        $Surgicalanaesthetists["DOC_NAME"] = $row["DOC_NAME"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["surgicalanaesthetists"], $Surgicalanaesthetists);
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

23. Ward Type

http://hms.yogintechnologies.com/webservice/wardtypeall.php

 if (mysql_num_rows($result) > 0) {
    // looping through all results
    // products node
    $response["wardtype"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // response
        $response["response"] = 1;
        // temp user array
        $Wardtype = array();
        $Wardtype["ward_type_id"] = $row["ward_type_id"];
        $Wardtype["ward_type_name"] = $row["ward_type_name"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["wardtype"], $Wardtype);
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

24. Doctor List

http://hms.yogintechnologies.com/webservice/doctor_list.php

$BR_ID = $_POST['BR_ID'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["doc"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $doc = array();
                $doc["DOC_NAME"] = $row["DOC_NAME"];
                $doc["SP_NAME"] = $row["SP_NAME"];
                $doc["DOC_ADDRESS"] = $row["DOC_ADDRESS1"].$row["DOC_ADDRESS2"];
                $doc["DOC_EMERGENCY_AVAILABILITY"] = $row["DOC_EMERGENCY_AVAILABILITY"];
                $doc["IMAGE"] = "http://hms.yogintechnologies.com/webservice/man_logo.png";
                array_push($response["doc"], $doc);  
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

25. Staff List

http://hms.yogintechnologies.com/webservice/staff_list.php

$BR_ID = $_POST['BR_ID'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["staff"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $staff = array();
                $staff["STAFF_NAME"] = $row["staff_name"];
                $staff["DESIGNATION"] = $row["designation_name"];
                $staff["PHONE"] = $row["staff_phone"];
                $staff["IMAGE"] = "http://hms.yogintechnologies.com/webservice/man_logo.png";     
                array_push($response["staff"], $staff);
        
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

26. Pharmacy List

http://hms.yogintechnologies.com/webservice/pharmacy_list.php

$BR_ID = $_POST['BR_ID'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["pharmacy"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $pharmacy = array();
                $pharmacy["PHARMACY_NAME"] = $row["pharmacy_name"];
                $pharmacy["ADDRESS"] = $row["pharma_addr1"].",".$row["pharma_addr2"];
                $pharmacy["PHONE"] = $row["pharma_phone"];
                $pharmacy["EMAIL"] = $row["pharma_email"];
                $pharmacy["IMAGE"] = "http://hms.yogintechnologies.com/webservice/man_logo.png";
                array_push($response["pharmacy"], $pharmacy);
        
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

27. Lab List

http://hms.yogintechnologies.com/webservice/lab_list.php

$BR_ID = $_POST['BR_ID'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["lab"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $lab = array();
                $lab["LABORATORY_NAME"] = $row["lab_name"];
                $lab["ADDRESS"] = $row["lab_addr1"].",".$row["lab_addr2"];
                $lab["PHONE"] = $row["lab_phone"];
                $lab["EMAIL"] = $row["lab_email"];
                $lab["IMAGE"] = "http://hms.yogintechnologies.com/webservice/man_logo.png";
                array_push($response["lab"], $lab);
        
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

28. Drug Stock Control

http://hms.yogintechnologies.com/webservice/drugstockcontrol_list.php

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["drugstockcontrol"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $drugstockcontrol = array();
                $drugstockcontrol["DRUG_NAME"] = $row["drug_name"];
                $drugstockcontrol["DRUG_BRAND_NAME"] = $row["drug_brand_name"];
                $drugstockcontrol["AVAILABLE_STOCK"] = $row["available_stock"];
                        
                array_push($response["drugstockcontrol"], $drugstockcontrol);
        
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

29. Suppliers List

http://hms.yogintechnologies.com/webservice/suppliers_list.php

$BR_ID = $_POST['BR_ID'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["supplier"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $supplier = array();
                $supplier["SUPPLIER_NAME"] = $row["supplier_name"];
                $supplier["ADDRESS"] = $row["supplier_addr1"].",".$row["supplier_addr2"];
                $supplier["PHONE"] = $row["supplier_phone"];
                $supplier["EMAIL"] = $row["supplier_email"];
                array_push($response["supplier"], $supplier);
        
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

30. E-Prescription

http://hms.yogintechnologies.com/webservice/eprescription_list.php

$pat_id = $_POST['pat_id'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["eprescription"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $eprescription = array();
                $eprescription["DOCTOR_NAME"] = $row["doc_id"];
                $eprescription["PATIENT_NAME"] = $row["pat_id"];
                $eprescription["STAFF_NAME"] = $row["staff_id"];
                $eprescription["PRESCRIPTION_DATE"] = $row["presc_date"];
                $eprescription["PRESC_NOOFDAYS"] = $row["presc_no_of_days"];
                $eprescription["DRUG_NAME"] = $row["drug_name"];
                $eprescription["DRUG_STRENGTH"] = $row["drug_strength"];
                $eprescription["DRUG_PERDAY"] = $row["druds_per_day"];
                $eprescription["PRESC_NOTES"] = $row["presc_notes"];
                $eprescription["WARD_NO"] = $row["ward_no"];
                $eprescription["ROOM_NO"] = $row["room_no"];
                $eprescription["BED_NO"] = $row["bed_no"];
                array_push($response["eprescription"], $eprescription);
        
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

31. Appointment List

http://hms.yogintechnologies.com/webservice/appointment_list.php

<?php
include 'include/Config.php';
$db = new DB_Class();

$response = array("error" => FALSE);

if (isset($_POST['DOC_NAME'])) {

// receiving the post params
$DOC_NAME = $_POST['DOC_NAME'];
        
if (isset($_POST["type"])) { $Type  = $_POST["type"]; } else { $Type='DESC'; }; 
$Price_Type = $Type;
if (isset($_POST["page"])) { $page  = $_POST["page"]; } else { $page=1; }; 
if (isset($_POST["page_count"])) { $page_data  = $_POST["page_count"]; } else { $page_data=10; }; 
$start_from = ($page-1) * 10; 

$result = mysql_query("SELECT
        appointment_master.APP_ID,
        appointment_master.APP_DATE,
        appointment_master.APP_TIME,
        appointment_master.APP_TOKEN_NO,
        appointment_master.DOC_NAME,
        appointment_master.PAT_NAME,
        appointment_master.PAT_EMAIL,
        appointment_master.PAT_MOBILE,
        appointment_master.PAT_ID,
        appointment_master.BR_NAME,
        appointment_master.APP_REG_VIA,
        appointment_master.APP_REG_FRM_DEVICE,
        appointment_master.APP_CREATED_DATE,
        appointment_master.APP_CREATED_DEVICE,
        appointment_master.APP_CREATED_IP,
        appointment_master.APP_CREATED_BY,
        appointment_master.APP_MODIFY_DATE,
        appointment_master.APP_MODIFY_DEVICE,
        appointment_master.APP_MODIFT_IP,
        appointment_master.APP_MODIFY_BY
        FROM
        appointment_master
        WHERE
        appointment_master.DOC_NAME = $DOC_NAME LIMIT 10") or die("Error");

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["appointment"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $appointment = array();
                $appointment["PAT_NAME"] = $row["PAT_NAME"];
                $appointment["APP_DATE"] = $row["APP_DATE"];
                $appointment["APP_TIME"] = $row["APP_TIME"];                        
                array_push($response["appointment"], $appointment);  
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}
?>

32. OutPatient List

http://hms.yogintechnologies.com/webservice/outpatient_list.php

$DOC_NAME = $_POST['DOC_NAME'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["outpatient"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $outpatient = array();
                $outpatient["PAT_NAME"] = $row["PAT_NAME"];
                $outpatient["PAT_EMAIL"] = $row["PAT_EMAIL"];
                $outpatient["PAT_MOBILE"] = $row["PAT_MOBILE"];                        
                array_push($response["outpatient"], $outpatient);  
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

33. InPatient List

http://hms.yogintechnologies.com/webservice/inpatient_list.php

$doc_id = $_POST['doc_id'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["inpatient"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $inpatient = array();
                $inpatient["PAT_NAME"] = $row["pat_id"];
                $inpatient["ROOM_TYPE"] = $row["room_type"];
                $inpatient["ROOM_NO"] = $row["room_no"];  
                $inpatient["BED_NO"] = $row["bed_no"];  
                array_push($response["inpatient"], $inpatient);  
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

34. Manage Report List

http://hms.yogintechnologies.com/webservice/managereport_list.php

$pat_id = $_POST['pat_id'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["report"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $report = array();
                $report["PAT_NAME"] = $row["pat_id"];
                $report["TEST_NAME"] = $row["lab_test_name"];
                $report["LAB_NAME"] = $row["lab_id"];  
                $report["TEST_REQUESTED_DATE"] = $row["requested_date"];  
                array_push($response["report"], $report);  
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

35. Department Insert

http://hms.yogintechnologies.com/webservice/department_insert.php

    $Br_ID = $_POST['br_id'];
    $Dept_Name = $_POST['dept_name'];
    $Dept_Email = $_POST['dept_email'];
    $Dept_Phone = $_POST['dept_phone'];

if ($db->isDepartmentExisted($Dept_Name)) {
        // department already exists
        $response["response"] = 0;
        $response["message"] = $Dept_Name. "already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        $user = $db->insertDepartment($Br_ID, $Dept_Name,$Dept_Email,$Dept_Phone);
        if ($user) {
            // department stored successfully
        $response["response"] = 1;
        $response["message"] = "Department Details Inserted.";
        echo json_encode($response);
        } else {
            // department failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

36. Laboratory Insert

http://hms.yogintechnologies.com/webservice/laboratory_insert.php

    $Br_ID = $_POST['branch_id'];
    $Lab_Name = $_POST['lab_name'];
    $Lab_Timing = $_POST['lab_timing'];
    $Lab_Addr1 = $_POST['lab_addr1'];
    $Lab_Addr2 = $_POST['lab_addr2'];
    $Lab_Postal_Code = $_POST['lab_postal_code'];
    $Lab_Phone = $_POST['lab_phone'];
    $Lab_Email= $_POST['lab_email'];
    $Lab_Landline_No = $_POST['lab_landline_no'];    
    $Login_uname = $_POST['lab_name'];
    $Login_name = $_POST['lab_email'];
    $Br_id = $_POST['branch_id'];  
    $Login_password = 'laboratory';
    $Login_type = 'laboratory';

if ($db->isLaboratoryExisted($Lab_Email)) {
        // lab already exists
        $response["response"] = 0;
        $response["message"] = $Lab_Email. "already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        //$user = $db->insertLaboratory($Br_ID, $Lab_Name);
        $user = $db->insertLaboratory($Br_ID, $Lab_Name,$Lab_Timing,$Lab_Addr1,$Lab_Addr2,$Lab_Postal_Code,$Lab_Phone,$Lab_Email,$Lab_Landline_No);
        $users = $db->loginUser($Login_uname,$Login_name,$Login_password,$Login_type,$Br_id);

        if ($user) {
            // lab stored successfully
        $response["response"] = 1;
        $user = mysql_query("SELECT * from Laboratory_master WHERE Lab_Email = '$Lab_Email'");
        $user_data = mysql_fetch_array($user);
        $no_rows = mysql_num_rows($user);
  
        if ($no_rows == 1) {
            // lab exists
            //$stmt->close();
            $user['lab_id'] = $user_data['lab_id'];
            
        } else {
            
//            return NULL;
        }
        $response["lab_id"] = $user_data['lab_id'];
        $response["message"] = "Laboratory Details Inserted.";
        echo json_encode($response);
        } else {
            // lab failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

37. Pathologist Insert

http://hms.yogintechnologies.com/webservice/pathologist_insert.php

    $Br_id = $_POST['branch_id'];
    $pathologist_name = $_POST['pathologist_name'];
    $lab_id = $_POST['lab_id'];
    $lab_email = $_POST['lab_email'];
    $pathologist_addr1 = $_POST['pathologist_addr1'];
    $pathologist_addr2 = $_POST['pathologist_addr2'];
    $pathologist_postal_code = $_POST['pathologist_postal_code'];
    $pathologist_phone= $_POST['pathologist_phone'];
    $pathologist_email = $_POST['pathologist_email'];
    $pathologist_other_no = $_POST['pathologist_other_no'];  
    $Login_uname = $_POST['pathologist_name'];
    $Login_name = $_POST['pathologist_email'];
    $Login_password = 'pathologist';
    $Login_type = 'laboratory';

if ($db->isPathologistExisted($pathologist_email)) {
        // Pathologist already exists
        $response["response"] = 0;
        $response["message"] = $pathologist_email. "already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        //$user = $db->insertLaboratory($Br_ID, $Lab_Name);
        $user = $db->insertPathologist($Br_id, $pathologist_name,$lab_id,$lab_email,$pathologist_addr1,$pathologist_addr2,$pathologist_postal_code,$pathologist_phone,$pathologist_email,$pathologist_other_no);
        $users = $db->loginUser($Login_uname,$Login_name,$Login_password,$Login_type,$Br_id);

        if ($user) {
            // Pathologist stored successfully
        $response["response"] = 1;
        $user = mysql_query("SELECT * from Pathologist_master WHERE pathologist_email = '$pathologist_email'");
        $user_data = mysql_fetch_array($user);
        $no_rows = mysql_num_rows($user);
  
        if ($no_rows == 1) {
            // Pathologist exists
            //$stmt->close();
            $user['pathologist_id'] = $user_data['pathologist_id'];
            
        } else {
            
//            return NULL;
        }
        $response["pathologist_id"] = $user_data['pathologist_id'];
        $response["message"] = "Pathologist Details Inserted.";
        echo json_encode($response);
        } else {
            // Pathologist failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

38. Staff Insert

http://hms.yogintechnologies.com/webservice/staff_insert.php

$Br_id = $_POST['branch_id'];
    $Staff_Name = $_POST['staff_name'];
    $Staff_Email = $_POST['staff_email'];
    $Staff_dob = $_POST['staff_dob'];
    $Staff_Gender = $_POST['staff_gender'];
    $Staff_Phone = $_POST['staff_phone'];
    $Staff_Addr1 = $_POST['staff_addr1'];
    $Staff_Addr2= $_POST['staff_addr2'];
    $Staff_Postal_Code = $_POST['staff_postal_code'];  
    $Dept_id = $_POST['dept_id'];
    $Designation_id= $_POST['designation_id'];
    $Staff_Joining_Date = $_POST['staff_joining_date'];  
    $Login_uname = $_POST['staff_name'];
    $Login_name = $_POST['staff_email'];
    $Login_password = 'staffemp';
    $Login_type = 'staff';

if ($db->isStaffExisted($Staff_Email)) {
        // staff already exists
        $response["response"] = 0;
        $response["message"] = $Staff_Email. "already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        //$user = $db->insertLaboratory($Br_ID, $Lab_Name);
        $user = $db->insertStaff($Br_id, $Staff_Name,$Staff_Email,$Staff_dob,$Staff_Gender,$Staff_Phone,$Staff_Addr1,$Staff_Addr2,$Staff_Postal_Code,$Dept_id,$Designation_id,$Staff_Joining_Date);
        $users = $db->loginUser($Login_uname,$Login_name,$Login_password,$Login_type,$Br_id);

        if ($user) {
            // staff stored successfully
        $response["response"] = 1;
        $user = mysql_query("SELECT * from Staff_master WHERE Staff_Email = '$Staff_Email'");
        $user_data = mysql_fetch_array($user);
        $no_rows = mysql_num_rows($user);
  
        if ($no_rows == 1) {
            // staff exists
            //$stmt->close();
            $user['staff_id'] = $user_data['staff_id'];
            
        } else {
            
//            return NULL;
        }
        $response["staff_id"] = $user_data['staff_id'];
        $response["message"] = "Staff Details Inserted.";
        echo json_encode($response);
        } else {
            // staff failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

39. Ward Insert

http://hms.yogintechnologies.com/webservice/ward_insert.php

    $Br_id = $_POST['branch_id'];
    $Ward_No = $_POST['ward_no'];
    $Ward_Type = $_POST['ward_type'];

if ($db->isWardExisted($Ward_No)) {
        // Ward already exists
        $response["response"] = 0;
        $response["message"] = $Ward_No. " already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        //$user = $db->insertLaboratory($Br_ID, $Lab_Name);
        $user = $db->insertWard($Br_id, $Ward_No,$Ward_Type);

        if ($user) {
            // Ward stored successfully
        $response["response"] = 1;
        $response["message"] = "Ward Details Inserted.";
        echo json_encode($response);
        } else {
            // Ward failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

40. Ward Type Insert

http://hms.yogintechnologies.com/webservice/wardtype_insert.php

    $Br_id = $_POST['branch_id'];
    $Ward_Type = $_POST['ward_type'];

if ($db->isWardTypeExisted($Ward_Type)) {
        // Ward already exists
        $response["response"] = 0;
        $response["message"] = $Ward_Type. " already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        //$user = $db->insertLaboratory($Br_ID, $Lab_Name);
        $user = $db->insertWardType($Br_id,$Ward_Type);

        if ($user) {
            // Ward stored successfully
        $response["response"] = 1;
        $response["message"] = "Ward Type Inserted.";
        echo json_encode($response);
        } else {
            // Ward failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

41. Room Type Insert

http://hms.yogintechnologies.com/webservice/roomtype_insert.php

    $Br_id = $_POST['branch_id'];
    $Room_Type = $_POST['room_type'];

 if ($db->isRoomTypeExisted($Room_Type)) {
        // Room already exists
        $response["response"] = 0;
        $response["message"] = $Room_Type. " already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        //$user = $db->insertLaboratory($Br_ID, $Lab_Name);
        $user = $db->insertRoomType($Br_id,$Room_Type);

        if ($user) {
            // Room stored successfully
        $response["response"] = 1;
        $response["message"] = "Room Type Inserted.";
        echo json_encode($response);
        } else {
            // Room failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

42. Room Insert

http://hms.yogintechnologies.com/webservice/room_insert.php

    $Br_id = $_POST['branch_id'];
    $Room_No = $_POST['room_no'];
    $Room_Type = $_POST['room_type'];
    $Room_Charges = $_POST['room_charges'];

if ($db->isRoomExisted($Room_No)) {
        // Room already exists
        $response["response"] = 0;
        $response["message"] = $Room_No. " already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        //$user = $db->insertLaboratory($Br_ID, $Lab_Name);
        $user = $db->insertRoomDetails($Br_id, $Room_No,$Room_Type,$Room_Charges);

        if ($user) {
            // Room stored successfully
        $response["response"] = 1;
        $response["message"] = "Room Details Inserted.";
        echo json_encode($response);
        } else {
            // Room failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

43. Bed Insert

http://hms.yogintechnologies.com/webservice/bed_insert.php

    $Br_id = $_POST['branch_id'];
    $Room_No = $_POST['room_no'];
    $Room_Type = $_POST['room_type'];
    $Bed_No = $_POST['bed_no'];
    $Bed_Status = $_POST['bed_status'];  

 if ($db->isBedExisted($Bed_No)) {
        // Bed already exists
        $response["response"] = 0;
        $response["message"] = $Bed_No. " already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        //$user = $db->insertLaboratory($Br_ID, $Lab_Name);
        $user = $db->insertBedDetails($Br_id, $Room_No,$Room_Type,$Bed_No,$Bed_Status);

        if ($user) {
            // Bed stored successfully
        $response["response"] = 1;
        $response["message"] = "Bed Details Inserted.";
        echo json_encode($response);
        } else {
            // Bed failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

44. Emergency Insert

http://hms.yogintechnologies.com/webservice/emergency_insert.php

    $Br_ID = $_POST['branch_id'];
    $Em_Pat_Name = $_POST['em_pat_name'];
    $Em_Gender = $_POST['em_gender'];
    $Em_Mode_Of_Arrival = $_POST['em_mode_of_arrival'];
    $Em_Accompanied_By = $_POST['em_accompanied_by'];
    $Em_Relatives_Notified = $_POST['em_relatives_notified'];
    $Em_Priority = $_POST['em_priority'];
    $Em_Date= $_POST['em_date'];
    $Em_Time_Of_Arrival = $_POST['em_time_of_arrival'];
    $Em_Referral_Doctor = $_POST['em_referral_doctor'];
    $Em_Ward_To_Admit = $_POST['em_ward_to_admit'];
    $Em_Bed_No = $_POST['em_bed_no'];
    $Em_Mlc = $_POST['em_mlc'];
    $Em_Mlc_Details = $_POST['em_mlc_details'];

 if ($user) {
            // branch stored successfully
        $response["response"] = 1;
        $response["message"] = "Duty Roaster Details Inserted.";
        echo json_encode($response);
        } else {
            // branch failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
    else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

45. Lab Test Request Insert

http://hms.yogintechnologies.com/webservice/lab_test_request_insert.php

    $Br_ID = $_POST['branch_id'];
    $pat_id = $_POST['pat_id'];
    $lab_id = $_POST['lab_id'];
    $lab_requestor_id = $_POST['lab_requestor_id'];
    $lab_requested_by = $_POST['lab_requested_by'];
    $lab_test_name = $_POST['lab_test_name'];
    $lab_requested_date = $_POST['lab_requested_date'];
    $lab_request_completed_date= $_POST['lab_request_completed_date'];
    $lab_notify_to_doc = $_POST['lab_notify_to_doc'];
    $lab_notify_to_pat = $_POST['lab_notify_to_pat'];
    $lab_specimen = $_POST['lab_specimen'];
    $lab_specimen_collected_by = $_POST['lab_specimen_collected_by'];
    $lab_sample_no = $_POST['lab_sample_no'];
    $lab_request_status = $_POST['lab_request_status'];
    $lab_remarks = $_POST['lab_remarks'];
    $lab_request_type = $_POST['lab_request_type'];

 if ($user) {
            // report stored successfully
        $response["response"] = 1;
        $response["message"] = "Report Details Inserted.";
        echo json_encode($response);
        } else {
            // report failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
 else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}   

46. Duty Roaster Insert

http://hms.yogintechnologies.com/webservice/dutyroaster_insert.php

    $Schedule_Id = $_POST['schedule_id'];
    $Schedule_Emp_Type = $_POST['schedule_emp_type'];
    $Schedule_Emp_Id = $_POST['schedule_emp_id'];
    $Schedule_Shift_Id = $_POST['schedule_shift_id'];
    $Schedule_Pat_Id = $_POST['schedule_pat_id'];
    $Schedule_From_Date = $_POST['schedule_from_date'];
    $Schedule_To_Date = $_POST['schedule_to_date'];

if ($user) {
            // branch stored successfully
        $response["response"] = 1;
        $response["message"] = "Duty Roaster Details Inserted.";
        echo json_encode($response);
        } else {
            // branch failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
    else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

47. Supplier Insert

http://hms.yogintechnologies.com/webservice/supplier_insert.php

    $Br_Id = $_POST['branch_id'];
    $Pharma_Id = $_POST['pharma_id'];
    $Supplier_Name = $_POST['supplier_name'];
    $Supplier_Email = $_POST['supplier_email'];
    $Supplier_Phone = $_POST['supplier_phone'];
    $Supplier_Addr1 = $_POST['supplier_addr1'];
    $Supplier_Addr2 = $_POST['supplier_addr2'];

if ($db->isSupplierExisted($Supplier_Email)) {
        // drug already exists
        $response["response"] = 0;
        $response["message"] = $Supplier_Email. "already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        $user = $db->insertSupplier($Br_Id, $Pharma_Id,$Supplier_Name,$Supplier_Email,$Supplier_Phone,$Supplier_Addr1,$Supplier_Addr2);
        if ($user) {
            // branch stored successfully
        $response["response"] = 1;
        $response["message"] = "Supplier Details Inserted.";
        echo json_encode($response);
        } else {
            // branch failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

48. Drug Insert

http://hms.yogintechnologies.com/webservice/drug_insert.php

    $Drug_Name = $_POST['drug_name'];
    $NDC_code = $_POST['ndc_code'];
    $Drug_Brand_Name = $_POST['drug_brand_name'];
    $Drug_Form = $_POST['drug_form'];
    $Drug_Mfg_Date = $_POST['drug_mfg_date'];
    $Drug_Expiry_Date = $_POST['drug_expiry_date'];
    $Drug_Unit_Price = $_POST['drug_unit_price'];
    $Drug_Box_Price= $_POST['drug_box_price'];
    $Drug_Box_Quantity= $_POST['drug_box_quantity'];
    $Drug_Total_Stock= $_POST['drug_total_stock'];
    $Supplier_Id= $_POST['supplier_id'];
    $Available_Stock= $_POST['available_stock'];

 if ($db->isDrugExisted($NDC_code)) {
        // drug already exists
        $response["response"] = 0;
        $response["message"] = $NDC_code. "already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        $user = $db->insertDrug($Drug_Name, $NDC_code,$Drug_Brand_Name,$Drug_Form,$Drug_Mfg_Date,$Drug_Expiry_Date,$Drug_Unit_Price,$Drug_Box_Price,$Drug_Box_Quantity,$Drug_Total_Stock,$Supplier_Id,$Available_Stock);
        if ($user) {
            // branch stored successfully
        $response["response"] = 1;
        $response["message"] = "Drug Details Inserted.";
        echo json_encode($response);
        } else {
            // branch failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

49. Supplier List

http://hms.yogintechnologies.com/webservice/supplier_list.php

$BR_ID = $_GET['BR_ID'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["supplier"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $supplier = array();
                $supplier["PHARMA_NAME"] = $row["pharma_id"];
                $supplier["SUPPLIER_NAME"] = $row["supplier_name"];
                $supplier["SUPPLIER_EMAIL"] = $row["supplier_email"];
                $supplier["SUPPLIER_PHONE"] = $row["supplier_phone"];
             
                array_push($response["supplier"], $supplier);  
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

50. Drug List

http://hms.yogintechnologies.com/webservice/drug_list.php

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["drug"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $drug = array();
                $drug["Drug_Name"] = $row["drug_name"];
                $drug["NDC_Code"] = $row["NDC_code"];
                $drug["Mfg_Date"] = $row["drug_mfg_date"];
                $drug["Expiry_Date"] = $row["drug_expiry_date"];
                $drug["Total_Stock"] = $row["drug_total_stock"];
                array_push($response["drug"], $drug);  
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

51. Emergency List

http://hms.yogintechnologies.com/webservice/emergency_list.php

$BR_ID = $_POST['BR_ID'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["emergency"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $emergency = array();
                $emergency["Patient_Name"] = $row["em_pat_name"];
                $emergency["Priority"] = $row["em_priority"];
                $emergency["Date_Time"] = $row["em_date"].$row["em_time_of_arrival"];
                $emergency["Medico_Legal_Details"] = $row["em_mlc"];
                $emergency["IMAGE"] = "http://hms.yogintechnologies.com/webservice/man_logo.png";
                array_push($response["emergency"], $emergency);  
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

52. Lab Test Request List

http://hms.yogintechnologies.com/webservice/labtestrequest_list.php

$BR_ID = $_POST['BR_ID'];

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["test"] = array();
    
    while ($row = mysql_fetch_array($result)) {
       
        // temp user array
        $test = array();
                $test["Patient_Name"] = $row["pat_id"];
                $test["Lab_Name"] = $row["lab_id"];
                $test["Test_Name"] = $row["lab_test_name"];
                $test["Requested_Date"] = $row["lab_requested_date"];
                $test["IMAGE"] = "http://hms.yogintechnologies.com/webservice/man_logo.png";
                array_push($response["test"], $test);  
    }
    
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 2;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters is missing!";
    echo json_encode($response);
}

53. Pharmacy Insert

http://hms.yogintechnologies.com/webservice/pharmacy_insert.php

    $Br_ID = $_POST['branch_id'];
    $Pharmacy_Name = $_POST['pharmacy_name'];
    $Pharmacist_Name = $_POST['pharmacist_name'];
    $Pharma_Email = $_POST['pharma_email'];
    $Pharma_DOB = $_POST['pharma_dob'];
    $Pharma_Gender = $_POST['pharma_gender'];
    $Pharma_Phone = $_POST['pharma_phone'];
    $Pharma_Addr1= $_POST['pharma_addr1'];
    $Pharma_Addr2 = $_POST['pharma_addr2'];
    $Pharma_Postal_Code = $_POST['pharma_postal_code'];
    $Pharmacist_Licence_No = $_POST['pharmacist_licence_no'];
    $Pharma_Store_No = $_POST['pharma_store_no'];    
    $Login_uname = $_POST['pharmacy_name'];
    $Login_name = $_POST['pharma_email'];
    $Br_id = $_POST['branch_id'];  
    $Login_password = 'pharma';
    $Login_type = 'pharma';

 if ($db->isPharmacyExisted($Pharma_Email)) {
        // pharma already exists
        $response["response"] = 0;
        $response["message"] = $Pharma_Email. "already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        $user = $db->insertPharmacy($Br_ID, $Pharmacy_Name,$Pharmacist_Name,$Pharma_Email,$Pharma_DOB,$Pharma_Gender,$Pharma_Phone,$Pharma_Addr1,$Pharma_Addr2,$Pharma_Postal_Code,$Pharmacist_License_No,$Pharma_Store_No);
        $users = $db->loginUser($Login_uname,$Login_name,$Login_password,$Login_type,$Br_id);

        if ($user) {
            // pharma stored successfully
        $response["response"] = 1;
        $user = mysql_query("SELECT * from Pharmacy_master WHERE Pharma_Email = '$Pharma_Email'");
        $user_data = mysql_fetch_array($user);
        $no_rows = mysql_num_rows($user);
  
        if ($no_rows == 1) {
            // pharma exists
            //$stmt->close();
            $user['pharma_id'] = $user_data['pharma_id'];
            
        } else {
            
//            return NULL;
        }
        $response["pharma_id"] = $user_data['pharma_id'];
        $response["message"] = "Pharmacy Details Inserted.";
        echo json_encode($response);
        } else {
            // pharma failed to store
            
            $response["response"] = 2;
            $response["message"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 3;
    $response["message"] = "Required parameters missing!";
    echo json_encode($response);
}

54. InPatient All

http://hms.yogintechnologies.com/webservice/inpatientall.php

if (mysql_num_rows($result) > 0) {
     // response
    $response["response"] = 1;
    $response["inpatient"] = array();
    
    while ($row = mysql_fetch_array($result)) {
        // temp user array
        $Inpatient = array();
        $Inpatient["BR_ID"] = $row["branch_id"];
        $Inpatient["PATIENT_NAME"] = $row["pat_id"];
        //$services["SERV_PRICE"] = $row["SERV_PRICE"];
        // push single product into final response array
        array_push($response["inpatient"], $Inpatient);
    }
   
    // echoing JSON response
    echo json_encode($response);
} else {
    // no products found
    $response["response"] = 0;
    $response["message"] = "No data found";

    // echo no users JSON
    echo json_encode($response);
}

55. Patient insert

http://hms.yogintechnologies.com/webservice/patient_insert.php

if (isset($_POST['pat_name']) && isset($_POST['pat_email'])) {

    // recieving the post params
    $BR_ID = $_POST['br_id'];
    $PAT_TITLE = $_POST['pat_title'];
    $PAT_NAME = $_POST['pat_name'];                    
    $PAT_EMAIL = $_POST['pat_email'];
    $PAT_GENDER = $_POST['pat_gender'];
    $PAT_MOBILE = $_POST['pat_mobile'];
    $PAT_ADDR1 = $_POST['pat_addri'];
    $PAT_ADDR2 = $_POST['pat_addr2'];
    $PAT_STATE = $_POST['pat_state'];
    $PAT_POSTAL_CODE = $_POST['pat_postal_code'];
    $PAT_BLOOD_GROUP = $_POST['pat_blood_group'];
    $PAT_HEIGHT = $_POST['pat_height'];
    $PAT_WEIGHT = $_POST['pat_weight'];
    $PAT_MARITAL_STATUS = $_POST['pat_marital_status'];
    $PAT_EMP_STATUS = $_POST['pat_emp_status'];
    $PAT_REF_PHYSICIAN = $_POST['pat_ref_physician'];
    $PAT_REF_PHYSICIAN_NO = $_POST['pat_ref_physician_no'];
    $PAT_RELATIVE_NAME = $_POST['pat_relative_name'];
    $PAT_RELATION_TO_PATIENT = $_POST['pat_relation_to_patient'];
    $PAT_RELATIVE_ADDR = $_POST['pat_relative_addr'];
    $PAT_RELATIVE_STATE = $_POST['pat_relative_state'];
    $PAT_RELATIVE_PINCODE = $_POST['pat_relative_pincode'];
    $PAT_RELATIVE_PHONE = $_POST['pat_relative_phone'];
    $PAT_INS_NAME = $_POST['Pat_ins_name'];
    $PAT_INS_COMPANY = $_POST['pat_ins_company'];
    $PAT_INS_ID = $_POST['pat_ins_id'];
    $PAT_INS_COMPANY_NO = $_POST['pat_ins_company_no'];
    $PAT_POLICY_ID = $_POST['pat_policy_id'];
    $PAT_GROUP_NAME = $_POST['pat_group_name'];
    $PAT_INS_PARTY = $_POST['pat_ins_party'];
    $PAT_PROOF_NAME = $_POST['pat_proof_name'];
    $PAT_PROOF_NO = $_POST['pat_proof_no'];
    $PAT_REL_WITH_PARTY = $_POST['pat_rel_with_party'];
    $PAT_HEALTH_HISTORY_ID = $_POST['pat_health_history_id'];
    $PAT_CANCER_DETAILS = $_POST['pat_cancer_details'];
    $PAT_OTHER_MED_PROB = $_POST['pat_other_med_prob'];
    $PAT_PAST_SURGERIES_ID = $_POST['pat_past_surgeries_id'];
    $PAT_OTHER_SURGERIES = $_POST['pat_other_surgeries'];
    $PAT_TOBACCO = $_POST['pat_tobacco'];
    $PAT_SMOKING = $_POST['pat_smoking'];
    $PAT_ALCOHOL = $_POST['pat_alcohol'];
    $PAT_FAMILY_MEMBER = $_POST['pat_family_member'];
    $PAT_HISTORY_ID = $_POST['pat_history_id'];
    $Br_id = $_POST['br_id'];
    $Login_uname = $_POST['pat_name'];
    $Login_name = $_POST['pat_email'];
    $Login_password = 'patient';
    $Login_type = 'patient';
    

    // check if user already exists with the same email
    if ($db->isUserExisted($PAT_EMAIL)) {
        // user already exists
        $response["response"] = 0;
        $response["error_msg"] = $PAT_EMAIL. "already exists";
        echo json_encode($response);
    } else {
        // create a new user$Cust_Name, $Cust_Email, $Cust_Phone,$Cust_Address,$Cust_City,$Cust_State
        $user = $db->insertPatient($BR_ID,$PAT_TITLE,$PAT_NAME,$PAT_EMAIL,$PAT_GENDER,$PAT_MOBILE,$PAT_ADDR1,$PAT_ADDR2,$PAT_STATE,$PAT_POSTAL_CODE,$PAT_BLOOD_GROUP,$PAT_HEIGHT,$PAT_WEIGHT,$PAT_MARITAL_STATUS,$PAT_EMP_STATUS,$PAT_REF_PHYSICIAN,$PAT_REF_PHYSICIAN_NO,$PAT_RELATIVE_NAME,$PAT_RELATION_TO_PATIENT,$PAT_RELATIVE_ADDR,$PAT_RELATIVE_STATE,$PAT_RELATIVE_PINCODE,$PAT_RELATIVE_PHONE,$PAT_INS_NAME,$PAT_INS_COMPANY,$PAT_INS_ID,$PAT_INS_COMPANY_NO,$PAT_POLICY_ID,$PAT_GROUP_NAME,$PAT_INS_PARTY,$PAT_PROOF_NAME,$PAT_PROOF_NO,$PAT_REL_WITH_PARTY,$PAT_HEALTH_HISTORY_ID,$PAT_CANCER_DETAILS,$PAT_OTHER_MED_PROB,$PAT_PAST_SURGERIES_ID,$PAT_OTHER_SURGERIES,$PAT_TOBACCO,$PAT_SMOKING,$PAT_ALCOHOL,$PAT_FAMILY_MEMBER,$PAT_HISTORY_ID);
        $users = $db->loginUser($Login_uname,$Login_name,$Login_password,$Login_type,$Br_id);

        if ($user) {
            // user stored successfully
        $response["response"] = 1;
        $user = mysql_query("SELECT * from Patient_master WHERE PAT_EMAIL = '$PAT_EMAIL'");
        $user_data = mysql_fetch_array($user);
        $no_rows = mysql_num_rows($user);
  
        if ($no_rows == 1) {
            // user exists
            //$stmt->close();
            $user['PAT_ID'] = $user_data['PAT_ID'];
            
        } else {
            
//            return NULL;
        }
        $response["PAT_ID"] = $user_data['PAT_ID'];
        $response["message"] = "Patient successfully Registered.";
        echo json_encode($response);
        
        } else {
            // user registeration failed 
            
            $response["response"] = 3;
            $response["error_msg"] = "Unknown error occurred in registration!";
            echo json_encode($response);
        }
    }
} else {
    $response["response"] = 4;
    $response["error_msg"] = "Required parameters is missing!";
    echo json_encode($response);
}
